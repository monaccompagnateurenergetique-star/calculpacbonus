<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur CEE BAR-TH-171</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <nav>
            <a href="#calculateur" class="active-link">Calculateur</a>
            <a href="#explications">Explications</a>
        </nav>
    </header>

    <main id="calculateur">
        <div class="calculator-container">
            <h1>Calculateur CEE BAR-TH-171</h1>
            <p class="subtitle">Estimez le montant de votre prime CEE et MaPrimeRénov' pour l'installation d'une pompe à chaleur air/eau.</p>

            <div class="input-group">
                <label for="typeLogement">Type de logement :</label>
                <select id="typeLogement">
                    <option value="maison">Maison individuelle</option>
                    <option value="appartement">Appartement</option>
                </select>
            </div>

            <div class="input-group">
                <label for="etas">Efficacité énergétique (Etas) :</label>
                <select id="etas">
                    <option value="111-140">111% ≤ Etas < 140%</option>
                    <option value="140-170">140% ≤ Etas < 170%</option>
                    <option value="170-200">170% ≤ Etas < 200%</option>
                    <option value="200+">200% ≤ Etas</option>
                </select>
            </div>

            <div class="input-group">
                <label for="usage">Usage :</label>
                <select id="usage">
                    <option value="Chauffage et ECS">Chauffage et ECS</option>
                    <option value="Chauffage">Chauffage</option>
                </select>
            </div>

            <div class="input-group">
                <label for="surfaceRange">Surface chauffée (m²) :</label>
                <select id="surfaceRange">
                    </select>
            </div>

            <div class="input-group">
                <label for="zone">Zone géographique :</label>
                <select id="zone">
                    <option value="H1">H1</option>
                    <option value="H2">H2</option>
                    <option value="H3">H3</option>
                </select>
            </div>

            <div class="input-group">
                <label for="mwhCumacPrice">Prix du MWh cumac (€) :</label>
                <input type="number" id="mwhCumacPrice" value="9" min="0" step="0.01" required>
            </div>

            <div class="input-group">
                <label for="revenuCategory">Catégorie de revenu MaPrimeRénov' :</label>
                <select id="revenuCategory">
                    <option value="bleu">Très modestes (Bleu)</option>
                    <option value="jaune">Modestes (Jaune)</option>
                    <option value="violet">Intermédiaires (Violet)</option>
                    <option value="rose">Supérieurs (Rose)</option>
                </select>
            </div>
            
            <div class="input-group bonus-group">
                <label for="bonusCheckbox">
                    <input type="checkbox" id="bonusCheckbox">
                    Appliquer le bonus Coup de boost
                </label>
                <input type="number" id="bonusMultiplier" value="5" min="1" class="hidden">
            </div>

            <div class="results">
                <h2>Résultats</h2>
                <p>Prime CEE estimée : <span id="estimatedPrimeCEE">0 €</span></p>
                <p>Aide MaPrimeRénov' : <span id="mpRenovAide">0 €</span></p>
                <p>Total des aides (CEE + MaPrimeRénov') : <span id="totalAides">0 €</span></p>
            </div>
        </div>
    </main>

    <main id="explications" class="hidden">
        <div class="explanations-container">
            <h2>Méthode de Calcul pour BAR-TH-171</h2>
            <p>Le montant en kWh CUMAC est calculé selon la formule :</p>
            <p class="formula">Montant = Base × Facteur Surface × Facteur Zone</p>

            <h3>Maison Individuelle</h3>
            <div class="tables-container">
                <div class="table-group">
                    <h4>Montant forfaitaire de base</h4>
                    <table id="table-maison-base"></table>
                </div>
                <div class="table-group">
                    <h4>Facteur correctif de surface</h4>
                    <table id="table-maison-surface"></table>
                </div>
            </div>

            <h3>Appartement</h3>
            <div class="tables-container">
                <div class="table-group">
                    <h4>Montant forfaitaire de base</h4>
                    <table id="table-appartement-base"></table>
                </div>
                <div class="table-group">
                    <h4>Facteur correctif de surface</h4>
                    <table id="table-appartement-surface"></table>
                </div>
            </div>
            
            <h3>Facteur Correctif de Zone Climatique</h3>
            <table id="table-zone"></table>

            <a href="https://www.ecologie.gouv.fr/sites/default/files/documents/BAR-TH-171%20vA55-1%20%C3%A0%20compter%20du%2001-01-2024.pdf" target="_blank">
                Consulter les fiches officielles du Ministère de l'Écologie
            </a>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
